<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Profeel</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2016-05-12T07:43:00.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Profeel</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Python Or Scrapy之预先善其事必先利其器</title>
    <link href="http://yoursite.com/2016/05/12/Python-Or-Scrapy%E4%B9%8B%E9%A2%84%E5%85%88%E5%96%84%E5%85%B6%E4%BA%8B%E5%BF%85%E5%85%88%E5%88%A9%E5%85%B6%E5%99%A8/"/>
    <id>http://yoursite.com/2016/05/12/Python-Or-Scrapy之预先善其事必先利其器/</id>
    <published>2016-05-12T07:37:42.000Z</published>
    <updated>2016-05-12T07:43:00.000Z</updated>
    
    <content type="html">&lt;ol&gt;
&lt;li&gt;编译器：&lt;ul&gt;
&lt;li&gt;PyCharm5&lt;/li&gt;
&lt;li&gt;ipython&lt;/li&gt;
&lt;li&gt;jupyter&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Scrapy插件：&lt;ul&gt;
&lt;li&gt;XPath Helper （Chrome插件）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;翻墙利器：&lt;ul&gt;
&lt;li&gt;ShadowSocks，年费大概100￥/year 评价：稳定、不限流量&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;编译器：&lt;ul&gt;
&lt;li&gt;PyCharm5&lt;/li&gt;
&lt;li&gt;ipython&lt;/li&gt;
&lt;li&gt;jupyter&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Scrapy插件：&lt;ul&gt;
&lt;li&gt;XPath Helper （Chrome插件）&lt;/li&gt;
&lt;/ul&gt;
&lt;
    
    </summary>
    
    
      <category term="tools" scheme="http://yoursite.com/tags/tools/"/>
    
      <category term="scrapy" scheme="http://yoursite.com/tags/scrapy/"/>
    
  </entry>
  
  <entry>
    <title>Scrapy ItemLoader返回的是列表如何选择第一个</title>
    <link href="http://yoursite.com/2016/05/12/Scrapy-ItemLoader%E8%BF%94%E5%9B%9E%E7%9A%84%E6%98%AF%E5%88%97%E8%A1%A8%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E7%AC%AC%E4%B8%80%E4%B8%AA/"/>
    <id>http://yoursite.com/2016/05/12/Scrapy-ItemLoader返回的是列表如何选择第一个/</id>
    <published>2016-05-12T03:46:26.000Z</published>
    <updated>2016-05-12T03:51:25.000Z</updated>
    
    <content type="html">&lt;p&gt;在items.py中加入：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;from scrapy.loader.processors import TakeFirst&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;......&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	# 修改为以下内容&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    followees = Field(output_processor=TakeFirst())&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;其他的不用改变，在spiders中的代码不需要改变&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;待解决：问题是第二个怎么选以及之后的几个？&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;在items.py中加入：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;
    
    </summary>
    
    
      <category term="scrapy" scheme="http://yoursite.com/tags/scrapy/"/>
    
  </entry>
  
  <entry>
    <title>Scrapy ItemLoader的使用</title>
    <link href="http://yoursite.com/2016/05/12/Scrapy-ItemLoader%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2016/05/12/Scrapy-ItemLoader的使用/</id>
    <published>2016-05-12T00:58:22.000Z</published>
    <updated>2016-05-12T03:46:29.000Z</updated>
    
    <content type="html">&lt;p&gt;通过ItemLoader能更加简洁地表达以及操作&lt;br&gt;下面介绍一下使用方法：&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;通过ItemLoader能更加简洁地表达以及操作&lt;br&gt;下面介绍一下使用方法：&lt;/p&gt;

    
    </summary>
    
    
      <category term="scrapy" scheme="http://yoursite.com/tags/scrapy/"/>
    
  </entry>
  
  <entry>
    <title>《超级时间整理书》笔记</title>
    <link href="http://yoursite.com/2016/05/11/%E3%80%8A%E8%B6%85%E7%BA%A7%E6%97%B6%E9%97%B4%E6%95%B4%E7%90%86%E4%B9%A6%E3%80%8B%E7%AC%94%E8%AE%B0/"/>
    <id>http://yoursite.com/2016/05/11/《超级时间整理书》笔记/</id>
    <published>2016-05-11T09:29:17.000Z</published>
    <updated>2016-05-11T14:43:56.000Z</updated>
    
    <content type="html">&lt;ul&gt;
&lt;li&gt;提前一天花15分钟规划第二天需要做的事情&lt;/li&gt;
&lt;li&gt;记录每个小时所作的事情&lt;/li&gt;
&lt;li&gt;设定每个小时的闹钟&lt;/li&gt;
&lt;li&gt;找个朋友一起做&lt;/li&gt;
&lt;li&gt;给自己创建一个奖励计划&lt;/li&gt;
&lt;li&gt;把时间表放在一个可以看到的地方&lt;/li&gt;
&lt;li&gt;马上开始&lt;/li&gt;
&lt;li&gt;丢掉不需要的东西，不要舍不得丢&lt;/li&gt;
&lt;li&gt;为自己的时间估值&lt;/li&gt;
&lt;li&gt;买个个高质量的储物盒，存放那些真正需要存放的东西&lt;/li&gt;
&lt;li&gt;清理杂物的方法：&lt;ul&gt;
&lt;li&gt;丢弃：果断丢弃，定期清理需要丢弃的东西，避免浪费时间在垃圾的东西上&lt;/li&gt;
&lt;li&gt;归档：被归档的90%的纸张都是无法用到的，或者直接电子化纸张&lt;/li&gt;
&lt;li&gt;转嫁：委托给其他人做，朋友或者家人，但是需要如何开口&lt;ul&gt;
&lt;li&gt;当你向别人发出委托请求时，标明原因，使用“因为”，大大会提高你的委托的成功率&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;整理衣柜：80%的时间穿的衣服只有那20%的衣服&lt;/li&gt;
&lt;li&gt;给鞋子拍照片，贴在鞋盒子上，方便找到&lt;/li&gt;
&lt;li&gt;解决拖延症：立即行动！&lt;/li&gt;
&lt;li&gt;当一份任务比较难的时候，可以分为简单的任务，然后做完一小部分就给一个奖励&lt;/li&gt;
&lt;li&gt;给任务一个期限，不要给出一个没有时间限制的任务&lt;/li&gt;
&lt;li&gt;一开始计划不要太多，不要计划得太大，试着简单一点儿，比如去健身房，不要开始的时候就要求每天都去，一星期去两天就是一个简单的开始&lt;/li&gt;
&lt;li&gt;待办事项是没错的，每天5件，只是最重要的5件。时间久了就是聚沙成塔,开始尝试的时候可以选择3件最重要的事情，并且为这些事情做好时间段规划&lt;/li&gt;
&lt;li&gt;把待办的事变成必须要做的事情。界定清洗的目标是生活的哥哥方面取得成功的关键。&lt;/li&gt;
&lt;li&gt;列一个“不办事项”，撇开那些不必浪费时间的事情&lt;/li&gt;
&lt;li&gt;避免说闲话，逃避说闲话的人&lt;/li&gt;
&lt;li&gt;如果沉迷社交网络或者网络游戏，那么起身，关闭电脑，离开电脑或者手机，对自己说：“你又沉迷这件事了，快停止！做点有用的事情吧，现在就行动”&lt;/li&gt;
&lt;li&gt;为自己的时间估值，算自己的时薪，以一种新的眼光看待自己的时间&lt;/li&gt;
&lt;li&gt;节约会议时间：&lt;ul&gt;
&lt;li&gt;需要1个小时的会议，如果设置在整点过一刻开始，可能会节约15分钟&lt;/li&gt;
&lt;li&gt;会议重要的是结果而不是听别人的声音&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;提前一天花15分钟规划第二天需要做的事情&lt;/li&gt;
&lt;li&gt;记录每个小时所作的事情&lt;/li&gt;
&lt;li&gt;设定每个小时的闹钟&lt;/li&gt;
&lt;li&gt;找个朋友一起做&lt;/li&gt;
&lt;li&gt;给自己创建一个奖励计划&lt;/li&gt;
&lt;li&gt;把时间表放在一个可以看到的地方&lt;/li&gt;
&lt;l
    
    </summary>
    
    
      <category term="读书笔记" scheme="http://yoursite.com/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>关于Mac Pro连接外接显示器分辨率问题</title>
    <link href="http://yoursite.com/2016/05/11/%E5%85%B3%E4%BA%8EMac-Pro%E8%BF%9E%E6%8E%A5%E5%A4%96%E6%8E%A5%E6%98%BE%E7%A4%BA%E5%99%A8%E5%88%86%E8%BE%A8%E7%8E%87%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2016/05/11/关于Mac-Pro连接外接显示器分辨率问题/</id>
    <published>2016-05-11T07:41:08.000Z</published>
    <updated>2016-05-11T07:49:27.000Z</updated>
    
    <content type="html">&lt;p&gt;关于外接显示器可能没有显示合适的分辨率，此时需要一点操作才能发现更多的显示器分辨率选项&lt;br&gt;操作如下图所示：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;先把选项拨到显示器默认&lt;/li&gt;
&lt;li&gt;按住option键&lt;/li&gt;
&lt;li&gt;选项调整为缩放，此时可以看到更多的选项了&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;/imgs/2016-05-11/1.jpeg&quot; alt=&quot;设置分辨率&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;可以参考&lt;a href=&quot;https://support.apple.com/zh-cn/HT201177&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;苹果官方设置&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;关于外接显示器可能没有显示合适的分辨率，此时需要一点操作才能发现更多的显示器分辨率选项&lt;br&gt;操作如下图所示：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;先把选项拨到显示器默认&lt;/li&gt;
&lt;li&gt;按住option键&lt;/li&gt;
&lt;li&gt;选项调整为缩放，此时可以看到更多的选项了&lt;/li&gt;
&lt;/
    
    </summary>
    
    
      <category term="error" scheme="http://yoursite.com/tags/error/"/>
    
  </entry>
  
  <entry>
    <title>晚睡强迫症患者</title>
    <link href="http://yoursite.com/2016/05/11/%E6%99%9A%E7%9D%A1%E5%BC%BA%E8%BF%AB%E7%97%87%E6%82%A3%E8%80%85/"/>
    <id>http://yoursite.com/2016/05/11/晚睡强迫症患者/</id>
    <published>2016-05-11T00:51:29.000Z</published>
    <updated>2016-05-12T00:38:58.000Z</updated>
    
    <content type="html">&lt;p&gt;最近晚睡成了一种习惯，以前偶尔失眠只是到1点2点，现在动不动就到了4点5点，甚至6点。我觉得我需要正视这个问题了，已经快持续两个月了，需要强烈地改变现状。&lt;br&gt;前期是因为失恋导致的，现在成了一种习惯。&lt;br&gt;现在制订改善方案：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;晚上22点，关闭wifi，关闭手机。&lt;/li&gt;
&lt;li&gt;睡前打坐30分钟。&lt;/li&gt;
&lt;li&gt;每天晚上去健身房跑步1小时，慢跑出汗即可，洗澡。&lt;/li&gt;
&lt;li&gt;午睡不能超过45分钟。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;暂时就这么打算吧。之后第二天早上反馈前一天的执行情况，坚持，改善生活。&lt;/p&gt;
&lt;p&gt;再po一个在知乎上的回答，虽然也是我摘抄，但是应该还是很有作用的，以前也是根据这个回答作出调整的，挺有用的。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.zhihu.com/question/20808486/answer/16798927?group_id=713565156029779968#comment-134664661&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;当熬夜成为习惯怎么办?&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;附上每天的执行记录&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;日期&lt;/th&gt;
&lt;th&gt;执行&lt;/th&gt;
&lt;th&gt;完成度&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;2016-05-11&lt;/td&gt;
&lt;td&gt;√中午饭后散步 √7分钟锻炼 √11点睡觉 √没有失眠&lt;/td&gt;
&lt;td&gt;80%&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;最近晚睡成了一种习惯，以前偶尔失眠只是到1点2点，现在动不动就到了4点5点，甚至6点。我觉得我需要正视这个问题了，已经快持续两个月了，需要强烈地改变现状。&lt;br&gt;前期是因为失恋导致的，现在成了一种习惯。&lt;br&gt;现在制订改善方案：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;晚上22点，关闭w
    
    </summary>
    
    
      <category term="日记" scheme="http://yoursite.com/tags/%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>XPath选择器相关</title>
    <link href="http://yoursite.com/2016/05/10/XPath%E9%80%89%E6%8B%A9%E5%99%A8%E7%9B%B8%E5%85%B3/"/>
    <id>http://yoursite.com/2016/05/10/XPath选择器相关/</id>
    <published>2016-05-10T07:29:43.000Z</published>
    <updated>2016-05-10T07:30:47.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;strong&gt;    1. 选择某一个属性&lt;/strong&gt;&lt;br&gt;&lt;code&gt;next_selector=response.xpath(&amp;#39;//*[contains(@class,&amp;quot;zm-invite-pager&amp;quot;)]/span/a/@href&amp;#39;).extract()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;对于某一个class拥有两部分的时候，同样的方法：&lt;br&gt;&lt;code&gt;hash_id = &amp;#39;&amp;#39;.join(selector.xpath(&amp;#39;//div[@class=&amp;quot;zm-profile-header-op-btns clearfix&amp;quot;]/button/@data-id&amp;#39;).extract())&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;参考：&lt;br&gt;&lt;a href=&quot;https://github.com/javachen/scrapy-zhihu-github/blob/master/zhihu/spiders/zhihu_user_spider.py&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/javachen/scrapy-zhihu-github/blob/master/zhihu/spiders/zhihu_user_spider.py&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;    1. 选择某一个属性&lt;/strong&gt;&lt;br&gt;&lt;code&gt;next_selector=response.xpath(&amp;#39;//*[contains(@class,&amp;quot;zm-invite-pager&amp;quot;)]/span/a/@href
    
    </summary>
    
    
      <category term="scrapy" scheme="http://yoursite.com/tags/scrapy/"/>
    
      <category term="xpath" scheme="http://yoursite.com/tags/xpath/"/>
    
  </entry>
  
  <entry>
    <title>hexo相关操作</title>
    <link href="http://yoursite.com/2016/05/10/hexo%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/"/>
    <id>http://yoursite.com/2016/05/10/hexo相关操作/</id>
    <published>2016-05-10T07:18:21.000Z</published>
    <updated>2016-05-12T00:52:33.000Z</updated>
    
    <content type="html">&lt;p&gt;1.Markdown相关操作 &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;markdown中插入图片的图片路径&lt;br&gt;在source中建立文件夹imgs，然后路径直接写/imgs/path/name.jpg 就可以了&lt;br&gt;&lt;code&gt;![图片标题](图片地址)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;插入链接&lt;br&gt;&lt;code&gt;[链接标题](链接)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;插入表格&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;| Tables        | Are           | Cool  |  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| ------------- |-------------- | ------|  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| col 3 is      | right-aligned | $1600 |  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| col 2 is      | centered      |   $12 | &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;| zebra stripes | are neat      |    $1 |&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;效果如下：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Tables&lt;/th&gt;
&lt;th&gt;Are&lt;/th&gt;
&lt;th&gt;Cool&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;col 3 is&lt;/td&gt;
&lt;td&gt;right-aligned&lt;/td&gt;
&lt;td&gt;$1600&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;col 2 is&lt;/td&gt;
&lt;td&gt;centered&lt;/td&gt;
&lt;td&gt;$12&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;zebra stripes&lt;/td&gt;
&lt;td&gt;are neat&lt;/td&gt;
&lt;td&gt;$1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ol&gt;
&lt;li&gt;hexo命令&lt;br&gt;hexo g -&amp;gt;生成页面&lt;br&gt;hexo d -&amp;gt;deploy到服务器&lt;br&gt;hexo d -g -&amp;gt;生成页面的同时部署到服务器&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;1.Markdown相关操作 &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;markdown中插入图片的图片路径&lt;br&gt;在source中建立文件夹imgs，然后路径直接写/imgs/path/name.jpg 就可以了&lt;br&gt;&lt;code&gt;![图片标题](图片地址)&lt;/code&gt;&lt;/li&gt;
&lt;
    
    </summary>
    
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>CSS选择器例子</title>
    <link href="http://yoursite.com/2016/05/10/CSS%E9%80%89%E6%8B%A9%E5%99%A8%E4%BE%8B%E5%AD%90/"/>
    <id>http://yoursite.com/2016/05/10/CSS选择器例子/</id>
    <published>2016-05-10T07:08:42.000Z</published>
    <updated>2016-05-11T08:22:46.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;strong&gt;1. 选择文字部分&lt;/strong&gt;&lt;br&gt;XPATH:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; response.xpath(&amp;apos;//title/text()&amp;apos;)[&amp;lt;Selector (text) xpath=//title/text()&amp;gt;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;CSS:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; response.css(&amp;apos;title::text&amp;apos;)[&amp;lt;Selector (text) xpath=//title/text()&amp;gt;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. CSS选取节点下面的一个节点&lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;span itemscope=&amp;quot;&amp;quot; itemtype=&amp;quot;http://schema.org/Place&amp;quot;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	  &amp;lt;span&amp;gt;West Hampstead, London&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;response.css(&amp;#39;span[itemtype=&amp;quot;http://schema.org/Place&amp;quot;] &amp;gt; span::text&amp;#39;).extract()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;参考：&lt;br&gt;&lt;img src=&quot;/imgs/2016-05-10/1.jpeg&quot; alt=&quot;css例子&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. 选取节点的某一个属性&lt;/strong&gt;&lt;br&gt;&lt;code&gt;response.css(&amp;#39;img[itemprop=image]::attr(scr)&amp;#39;).extract()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. 选取节点的文字部分&lt;/strong&gt;&lt;br&gt;&lt;code&gt;response.css(&amp;quot;.question_link::text&amp;quot;).extract()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5. 当一个节点的class有几个部分的时候&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;d = response.css(&amp;#39;.zh-general-list.clearfix::attr(data-init)&amp;#39;).extract()&lt;/code&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;1. 选择文字部分&lt;/strong&gt;&lt;br&gt;XPATH:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br
    
    </summary>
    
    
      <category term="scrapy" scheme="http://yoursite.com/tags/scrapy/"/>
    
      <category term="css selector" scheme="http://yoursite.com/tags/css-selector/"/>
    
  </entry>
  
  <entry>
    <title>关于ShadowSocks连接Dropbox设置</title>
    <link href="http://yoursite.com/2016/05/10/%E5%85%B3%E4%BA%8EShadowSocks%E8%BF%9E%E6%8E%A5Dropbox%E8%AE%BE%E7%BD%AE/"/>
    <id>http://yoursite.com/2016/05/10/关于ShadowSocks连接Dropbox设置/</id>
    <published>2016-05-10T00:51:24.000Z</published>
    <updated>2016-05-10T00:58:21.000Z</updated>
    
    <content type="html">&lt;p&gt;关于连接Dropbox，因为已经开启了ShadowSocks，但是Dropbox还是没有连接上，Dropbox官网是可以上的，说明连接没有问题，应该是客户端代理的问题。&lt;br&gt;应该把客户端的代理设置为本地代理，ShadowSocks连接使用全局&lt;br&gt;如下配置：&lt;br&gt;&lt;img src=&quot;http://7xr6vh.com1.z0.glb.clouddn.com/hexo2016-05-10%20at%20%E4%B8%8A%E5%8D%888.53.jpeg&quot; alt=&quot;配置信息&quot;&gt;&lt;/p&gt;
&lt;p&gt;配置完成之后，重启Dropbox客户端即可&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;关于连接Dropbox，因为已经开启了ShadowSocks，但是Dropbox还是没有连接上，Dropbox官网是可以上的，说明连接没有问题，应该是客户端代理的问题。&lt;br&gt;应该把客户端的代理设置为本地代理，ShadowSocks连接使用全局&lt;br&gt;如下配置：&lt;br&gt;&lt;i
    
    </summary>
    
    
      <category term="tools" scheme="http://yoursite.com/tags/tools/"/>
    
      <category term="dropbox" scheme="http://yoursite.com/tags/dropbox/"/>
    
  </entry>
  
  <entry>
    <title>scrapy抓取知乎话题下的子话题的url</title>
    <link href="http://yoursite.com/2016/05/09/scrapy%E6%8A%93%E5%8F%96%E7%9F%A5%E4%B9%8E%E8%AF%9D%E9%A2%98%E4%B8%8B%E7%9A%84%E5%AD%90%E8%AF%9D%E9%A2%98%E7%9A%84url/"/>
    <id>http://yoursite.com/2016/05/09/scrapy抓取知乎话题下的子话题的url/</id>
    <published>2016-05-09T15:38:01.000Z</published>
    <updated>2016-05-09T15:38:32.000Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="scrapy" scheme="http://yoursite.com/tags/scrapy/"/>
    
  </entry>
  
  <entry>
    <title>Atom好用插件推荐</title>
    <link href="http://yoursite.com/2016/05/09/Atom%E6%8F%92%E4%BB%B6/"/>
    <id>http://yoursite.com/2016/05/09/Atom插件/</id>
    <published>2016-05-09T08:33:18.000Z</published>
    <updated>2016-05-09T15:38:14.000Z</updated>
    
    <content type="html">&lt;p&gt;atom好用的插件推荐：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1. atom-prettify
作用：让html更好地显示
安装：apm install atom-prettify
&lt;/code&gt;&lt;/pre&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;atom好用的插件推荐：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1. atom-prettify
作用：让html更好地显示
安装：apm install atom-prettify
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="tools" scheme="http://yoursite.com/tags/tools/"/>
    
  </entry>
  
  <entry>
    <title>Pycharm怎么用</title>
    <link href="http://yoursite.com/2016/05/09/Pycharm%E6%80%8E%E4%B9%88%E7%94%A8/"/>
    <id>http://yoursite.com/2016/05/09/Pycharm怎么用/</id>
    <published>2016-05-09T08:15:35.000Z</published>
    <updated>2016-05-09T08:15:35.000Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>scrapy 在不同的抓取级别的Request之间传递参数的办法</title>
    <link href="http://yoursite.com/2016/05/09/scrapy-%E5%9C%A8%E4%B8%8D%E5%90%8C%E7%9A%84%E6%8A%93%E5%8F%96%E7%BA%A7%E5%88%AB%E7%9A%84Request%E4%B9%8B%E9%97%B4%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0%E7%9A%84%E5%8A%9E%E6%B3%95/"/>
    <id>http://yoursite.com/2016/05/09/scrapy-在不同的抓取级别的Request之间传递参数的办法/</id>
    <published>2016-05-09T07:44:36.000Z</published>
    <updated>2016-05-09T07:45:48.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;scrapy 在不同的抓取级别的Request之间传递参数的办法，下面的范例中，parse_item通过meat传递给了parse_details参数item，这样就可以再parse_details抓取完成所有的数据后一次返回&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MySpider&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(BaseSpider)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    name = &lt;span class=&quot;string&quot;&gt;&#39;myspider&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    start_urls = (&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;http://example.com/page1&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;http://example.com/page2&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, response)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# collect `item_urls`&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; item_url &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; item_urls:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; Request(url=item_url, callback=self.parse_item)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;parse_item&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, response)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        item = MyItem()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# populate `item` fields&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; Request(url=item_details_url, meta=&amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;item&#39;&lt;/span&gt;: item&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            callback=self.parse_details)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;parse_details&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, response)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        item = response.meta[&lt;span class=&quot;string&quot;&gt;&#39;item&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# populate more `item` fields&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; item&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;scrapy 在不同的抓取级别的Request之间传递参数的办法，下面的范例中，parse_item通过meat传递给了parse_details参数item，这样就可以再parse_details抓取完成所有的数据后一次返回&lt;/p&gt;
&lt;/bloc
    
    </summary>
    
    
      <category term="scrapy" scheme="http://yoursite.com/tags/scrapy/"/>
    
  </entry>
  
  <entry>
    <title>scrapy登录知乎以及相关问题</title>
    <link href="http://yoursite.com/2016/05/06/scrapy%E7%99%BB%E5%BD%95%E7%9F%A5%E4%B9%8E%E4%BB%A5%E5%8F%8A%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2016/05/06/scrapy登录知乎以及相关问题/</id>
    <published>2016-05-06T03:09:25.000Z</published>
    <updated>2016-05-06T03:19:43.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;因为想爬虫知乎的数据，所以采用scrapy来进行爬虫&lt;br&gt;对于一般的问题的链接以及相关的内容不需要登录，但是对于用户的关注数据，必须得登录之后才能获取&lt;br&gt;所以，通过scrapy登录&lt;br&gt;在登录的过程中，碰到了一点问题：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;验证码获取问题&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;本来是想通过xpath来获取，通过shell调试后，发现无论怎么获取都是空的，无法获取，可能是因为js动态生成的原因而无法获取&lt;br&gt;–&amp;gt;曲线救国&lt;br&gt;所以查看captcha的src的地址，找到规律如下&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;p = re.compile(&lt;span class=&quot;string&quot;&gt;r&#39;\d&amp;#123;13&amp;#125;&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;t = repr(time.time()*&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;m = p.findall(t)[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 获得验证码的地址&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;captcha_url = &lt;span class=&quot;string&quot;&gt;&quot;http://m.zhihu.com/captcha.gif?r=&quot;&lt;/span&gt; + m + &lt;span class=&quot;string&quot;&gt;&quot;&amp;amp;type=login&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;其中repr方法第一次使用，为了让原始的object变成字符串，help返回如下：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;repr(...)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    repr(object) -&amp;gt; string&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Return the canonical string representation of the object.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    For most object types, eval(repr(object)) == object.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;手动的获取&lt;/p&gt;
&lt;p&gt;在这之前，因为好几次使用了错误的密码，导致耽搁了进程&lt;/p&gt;
&lt;p&gt;po一下部分代码,截取到登录部分：&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; scrapy&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; urlparse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; scrapy.loader &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; ItemLoader&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; scrapy.loader.processors &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; MapCompose, Join&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; ..settings &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; headers, mode, proxy, email, password, host, port, db&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; ..items &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; ZhihuTry2Item&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; time&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; os&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; re&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TopicSpider&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(scrapy.Spider)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    name = &lt;span class=&quot;string&quot;&gt;&quot;topic&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    allowed_domains = [&lt;span class=&quot;string&quot;&gt;&quot;m.zhihu.com&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    zhihu_url = &lt;span class=&quot;string&quot;&gt;&quot;https://m.zhihu.com&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    login_url = &lt;span class=&quot;string&quot;&gt;&quot;https://m.zhihu.com/login/email&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    start_urls = (&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;http://m.zhihu.com/&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;start_requests&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; scrapy.Request(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            url=self.zhihu_url,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            headers=headers,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            meta=&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&quot;proxy&quot;&lt;/span&gt;: proxy,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&quot;cookiejar&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            callback=self.request_captcha&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;request_captcha&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, response)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# 获取_xsrf值&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        _xsrf = response.css(&lt;span class=&quot;string&quot;&gt;&#39;input[name=&quot;_xsrf&quot;]::attr(value)&#39;&lt;/span&gt;).extract()[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        p = re.compile(&lt;span class=&quot;string&quot;&gt;r&#39;\d&amp;#123;13&amp;#125;&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        t = repr(time.time()*&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        m = p.findall(t)[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# 获得验证码的地址&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        captcha_url = &lt;span class=&quot;string&quot;&gt;&quot;http://m.zhihu.com/captcha.gif?r=&quot;&lt;/span&gt; + m + &lt;span class=&quot;string&quot;&gt;&quot;&amp;amp;type=login&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# 准备下载验证码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# 获取请求&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; scrapy.Request(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            url=captcha_url,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            headers=headers,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            meta=&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&quot;proxy&quot;&lt;/span&gt;: proxy,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&quot;cookiejar&quot;&lt;/span&gt;: response.meta[&lt;span class=&quot;string&quot;&gt;&quot;cookiejar&quot;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&quot;_xsrf&quot;&lt;/span&gt;: _xsrf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            callback=self.download_captcha&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;download_captcha&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, response)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# 下载验证码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; open(&lt;span class=&quot;string&quot;&gt;&quot;captcha.gif&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;wb&quot;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; fp:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            fp.write(response.body)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# 打开验证码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        os.system(&lt;span class=&quot;string&quot;&gt;&#39;open captcha.gif&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# 输入验证码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;请输入验证码:\n&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        captcha = raw_input()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# 输入账号和密码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; scrapy.FormRequest(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            url=self.login_url,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            headers=headers,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            formdata=&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&quot;email&quot;&lt;/span&gt;: email,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&quot;password&quot;&lt;/span&gt;: password,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&quot;_xsrf&quot;&lt;/span&gt;: response.meta[&lt;span class=&quot;string&quot;&gt;&quot;_xsrf&quot;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&quot;remember_me&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;true&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&quot;captcha&quot;&lt;/span&gt;: captcha&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            meta=&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&quot;proxy&quot;&lt;/span&gt;: proxy,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;string&quot;&gt;&quot;cookiejar&quot;&lt;/span&gt;: response.meta[&lt;span class=&quot;string&quot;&gt;&quot;cookiejar&quot;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            callback=self.request_zhihu&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;request_zhihu&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, response)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            现在已经登录,请求www.zhihu.com的页面&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; response.body&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# yield scrapy.Request(url=self.zhihu_url,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#                      headers=self.headers_dict,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#                      meta=&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#                          &quot;proxy&quot;: proxy,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#                          &quot;cookiejar&quot;: response.meta[&quot;cookiejar&quot;],&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#                      &amp;#125;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#                      callback=self.get_question,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#                      dont_filter=True)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;因为想爬虫知乎的数据，所以采用scrapy来进行爬虫&lt;br&gt;对于一般的问题的链接以及相关的内容不需要登录，但是对于用户的关注数据，必须得登录之后才能获取&lt;br&gt;所以，通过scrapy登录&lt;br&gt;在登录的过程中，碰到了一点问题：&lt;/p&gt;
&lt;ol&gt;
&lt;
    
    </summary>
    
    
      <category term="scrapy" scheme="http://yoursite.com/tags/scrapy/"/>
    
  </entry>
  
  <entry>
    <title>关于scrapy没有跳转到下一个链接</title>
    <link href="http://yoursite.com/2016/05/05/%E5%A6%82%E6%9E%9C%E4%B8%8D%E7%9F%A5%E9%81%93%E9%97%AE%E9%A2%98%E5%9C%A8%E5%93%AA%E9%87%8C%EF%BC%8C%E5%B0%B1%E5%8E%BB%E4%B8%8A%E4%B8%AA%E5%8E%95%E6%89%80%E5%90%A7%EF%BC%8C%E4%B9%9F%E8%AE%B8%E5%9B%9E%E6%9D%A5%E5%B0%B1%E7%9F%A5%E9%81%93%E4%BA%86/"/>
    <id>http://yoursite.com/2016/05/05/如果不知道问题在哪里，就去上个厕所吧，也许回来就知道了/</id>
    <published>2016-05-05T03:00:20.000Z</published>
    <updated>2016-05-05T03:05:13.000Z</updated>
    
    <content type="html">&lt;p&gt;刚刚遇到一个奇怪的问题，代码应该是没有错误的&lt;br&gt;内容是这样的，准备在关于知乎的一个话题下，爬取所有问题的url保存到数据库中&lt;br&gt;但是，最后写了循环到yield scrapy.Request，但是没有成功的跳转，不知道问题所在&lt;br&gt;就去segmentfalt发帖问了&lt;br&gt;上个厕所回来，发现自己代码有问题，从头开始看，原来allowed_domains中的链接的topic写成了topics，然后生成的链接不在allowed_domains里面，所以就无法跳转&lt;/p&gt;
&lt;p&gt;╮(╯▽╰)╭&lt;br&gt;粗心大意&lt;br&gt;不过以后不会遇到类似的问题了，也会对allowed_domains有更深的理解了&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;刚刚遇到一个奇怪的问题，代码应该是没有错误的&lt;br&gt;内容是这样的，准备在关于知乎的一个话题下，爬取所有问题的url保存到数据库中&lt;br&gt;但是，最后写了循环到yield scrapy.Request，但是没有成功的跳转，不知道问题所在&lt;br&gt;就去segmentfalt发帖问了
    
    </summary>
    
      <category term="error" scheme="http://yoursite.com/categories/error/"/>
    
    
      <category term="scrapy" scheme="http://yoursite.com/tags/scrapy/"/>
    
  </entry>
  
  <entry>
    <title>关于scarpy ip的bug</title>
    <link href="http://yoursite.com/2016/05/04/%E5%85%B3%E4%BA%8Escarpy-ip%E7%9A%84bug/"/>
    <id>http://yoursite.com/2016/05/04/关于scarpy-ip的bug/</id>
    <published>2016-05-04T07:09:47.000Z</published>
    <updated>2016-05-04T07:33:33.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;先描述一下问题：在学习《Learning Scrapy》的过程中，根据ch03的代码，下载了Docker，然后Docker的地址为192.168.99.100，为了图方便，没有修改hosts的内容，在代码中，直接使用ip作为start urls，然后，无法爬取下一个页面，一直是以为是Rule写错了，修改Rule也无法验证，因为没有办法获取下一页的内容&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;起始的代码为：&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;allowed_domains = [&lt;span class=&quot;string&quot;&gt;&#39;192.168.99.100&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;start_urls = [&lt;span class=&quot;string&quot;&gt;&#39;192.168.99.100:32768/properties/index_00000.html&#39;&lt;/span&gt;,]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;修改为：&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;allowed_domains = [&lt;span class=&quot;string&quot;&gt;&#39;web&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;start_urls = [&lt;span class=&quot;string&quot;&gt;&#39;http://web:32768/properties/index_00000.html&#39;&lt;/span&gt;,]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;这样就可以了，但是不知道原因，如果以后知道了，就再补上&lt;br&gt;补一个&lt;a href=&quot;http://stackoverflow.com/questions/37017741/why-it-cant-come-out-the-next-parse-about-scrapy-crawl/37020756#37020756&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;stackoverflow的问题链接&lt;/a&gt;，没人回答╮(╯▽╰)╭&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;先描述一下问题：在学习《Learning Scrapy》的过程中，根据ch03的代码，下载了Docker，然后Docker的地址为192.168.99.100，为了图方便，没有修改hosts的内容，在代码中，直接使用ip作为start urls，然
    
    </summary>
    
      <category term="error" scheme="http://yoursite.com/categories/error/"/>
    
    
      <category term="scrapy" scheme="http://yoursite.com/tags/scrapy/"/>
    
      <category term="error" scheme="http://yoursite.com/tags/error/"/>
    
  </entry>
  
  <entry>
    <title>反思毕业3年</title>
    <link href="http://yoursite.com/2016/05/03/%E5%8F%8D%E6%80%9D%E6%AF%95%E4%B8%9A3%E5%B9%B4/"/>
    <id>http://yoursite.com/2016/05/03/反思毕业3年/</id>
    <published>2016-05-03T06:57:56.000Z</published>
    <updated>2016-05-03T07:02:17.000Z</updated>
    
    <content type="html">&lt;p&gt;  已经毕业3年，无可避讳。&lt;br&gt;  当前2年可以认为是一种尝试，在1年半的时候，好像必须趋于一种稳定，希望在一个地方安定下来，有固定的朋友，固定的社交圈。&lt;br&gt;  其他的都是一种尝试，工作很轻松，没有压力，但是也没有什么动力。在这种温水中，更希望去做一些创造性的东西。自学了很久的python，仍然没有什么进展，仅仅是14年自己爬虫了一些简单的网易彩票的数据，其他的便没有任何，而且当时的代码并没有任何可值得称赞的地方，即使是当时，都是觉得很不能辨认的。&lt;br&gt;  于今天，我觉得我想当浮躁，过于浮躁地活着，没有踏踏实实地活着。希望得到更多，却放弃了付出，舍不得付出，计较着一些鸡毛蒜皮的事情，很可悲。&lt;br&gt;  希望今后的每天都能脚踏实地地学习、生活。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;  已经毕业3年，无可避讳。&lt;br&gt;  当前2年可以认为是一种尝试，在1年半的时候，好像必须趋于一种稳定，希望在一个地方安定下来，有固定的朋友，固定的社交圈。&lt;br&gt;  其他的都是一种尝试，工作很轻松，没有压力，但是也没有什么动力。在这种温水中，更希望去做一些创造性的东西。
    
    </summary>
    
    
      <category term="日记" scheme="http://yoursite.com/tags/%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Scrapy examples尝试</title>
    <link href="http://yoursite.com/2016/04/22/Scrapy-examples%E5%B0%9D%E8%AF%95/"/>
    <id>http://yoursite.com/2016/04/22/Scrapy-examples尝试/</id>
    <published>2016-04-22T07:24:26.000Z</published>
    <updated>2016-04-22T07:25:29.000Z</updated>
    
    <content type="html">&lt;p&gt;  因为最近在看scrapy，看的书有《Learning Scrapy》&lt;br&gt;  从Github上找了点例子来学习， 例子地址为：&lt;a href=&quot;https://github.com/geekan/scrapy-examples&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/geekan/scrapy-examples&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;  因为最近在看scrapy，看的书有《Learning Scrapy》&lt;br&gt;  从Github上找了点例子来学习， 例子地址为：&lt;a href=&quot;https://github.com/geekan/scrapy-examples&quot; target=&quot;_blank&quot; rel
    
    </summary>
    
    
      <category term="scrapy" scheme="http://yoursite.com/tags/scrapy/"/>
    
  </entry>
  
  <entry>
    <title>Rule object is not iterable</title>
    <link href="http://yoursite.com/2016/04/22/iterable/"/>
    <id>http://yoursite.com/2016/04/22/iterable/</id>
    <published>2016-04-22T00:52:11.000Z</published>
    <updated>2016-04-22T02:50:05.000Z</updated>
    
    <content type="html">&lt;p&gt;问题：&lt;br&gt;    &lt;code&gt;exceptions.TypeError: &amp;#39;Rule&amp;#39; object is not iterable&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;原因：&lt;br&gt;    &lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;rules =(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       Rule(SgmlLinkExtractor(allow = ()) ,callback = &lt;span class=&quot;string&quot;&gt;&#39;parse_item&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       )&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;不是可以迭代的对象
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;修改为：&lt;br&gt;    &lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;rules =(Rule(SgmlLinkExtractor(allow = ()) ,callback = &lt;span class=&quot;string&quot;&gt;&#39;parse_item&#39;&lt;/span&gt;),)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;问题：&lt;br&gt;    &lt;code&gt;exceptions.TypeError: &amp;#39;Rule&amp;#39; object is not iterable&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;原因：&lt;br&gt;    &lt;figure class=&quot;highlight python&quot;&gt;&lt;t
    
    </summary>
    
    
      <category term="scrapy" scheme="http://yoursite.com/tags/scrapy/"/>
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="error" scheme="http://yoursite.com/tags/error/"/>
    
  </entry>
  
</feed>
